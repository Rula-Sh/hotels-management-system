<div class="page">
  <h1 class="m-4 mb-4">{{ "room.add-room" | translate }}</h1>
  <div class="center-wrapper">
    <form class="container p-4" [formGroup]="roomForm" (ngSubmit)="addRoom()">
      <div class="input-container">
        <label for="title"> {{ "shared.form.title" | translate }}:</label>
        <div class="input-error">
          <div class="input-group" [ngClass]="{ 'right-input': lang == 'ar' }">
            <div class="align-self-center">
              <span
                class="input-group-text input-group-icon align-self-center bg-white"
                ><i class="fa-solid fa-t"></i>
              </span>
            </div>
            <input
              type="text"
              class="form-control"
              placeholder="Title"
              aria-label="Title"
              [placeholder]="'shared.form.title' | translate"
              formControlName="title"
              required
            />
          </div>
          <div
            class="error"
            *ngIf="
              roomForm.get('title')?.invalid && roomForm.get('title')?.touched
            "
          >
            {{ "shared.form.title-required" | translate }}
          </div>
        </div>
      </div>
      <div class="input-container">
        <label for="roomType"> {{ "room.type" | translate }}:</label>
        <div class="input-error">
          <div class="input-group" [ngClass]="{ 'right-input': lang == 'ar' }">
            <div class="align-self-center">
              <span
                class="input-group-text input-group-icon align-self-center bg-white"
                ><i class="fa-solid fa-door-closed"></i>
              </span>
            </div>
            <div
              class="form-control radio-container d-flex justify-content-around"
            >
              <label class="radio-label">
                <input
                  class="radio-input"
                  type="radio"
                  value="Room"
                  formControlName="roomType"
                />
                <span>{{ "room.room" | translate }}</span>
              </label>
              <label class="radio-label">
                <input
                  class="radio-input"
                  type="radio"
                  value="Hall"
                  formControlName="roomType"
                />
                <span>{{ "room.hall" | translate }}</span>
              </label>
            </div>
          </div>
          <div
            class="error"
            *ngIf="
              roomForm.get('roomType')?.invalid &&
              roomForm.get('roomType')?.touched
            "
          >
            {{ "room.type-required" | translate }}
          </div>
        </div>
      </div>
      <div class="input-container">
        <label for="floor"> {{ "room.floor" | translate }}:</label>
        <div class="input-error">
          <div class="input-group" [ngClass]="{ 'right-input': lang == 'ar' }">
            <div class="align-self-center">
              <span
                class="input-group-text input-group-icon align-self-center bg-white"
                ><i class="fa-solid fa-layer-group"></i>
              </span>
            </div>
            <input
              type="number"
              class="form-control"
              placeholder="Floor"
              aria-label="Floor"
              [placeholder]="'room.floor' | translate"
              formControlName="floor"
              required
              maxlength="2"
            />
          </div>
          <div
            class="error"
            *ngIf="
              roomForm.get('floor')?.invalid && roomForm.get('floor')?.touched
            "
          >
            {{ "room.floor-required" | translate }}
          </div>
        </div>
      </div>

      <div class="input-container">
        <label for="hotel"> {{ "room.hotel" | translate }}:</label>
        <div class="input-error">
          <div class="input-group" [ngClass]="{ 'right-input': lang == 'ar' }">
            <div class="align-self-center">
              <span
                class="input-group-text input-group-icon align-self-center bg-white"
                ><i class="fa-solid fa-hotel"></i>
              </span>
            </div>
            <input
              type="text"
              class="form-control"
              placeholder="Hotel"
              aria-label="Hotel"
              [placeholder]="'room.hotel' | translate"
              formControlName="hotel"
              required
            />
          </div>
          <div
            class="error"
            *ngIf="
              roomForm.get('hotel')?.invalid && roomForm.get('hotel')?.touched
            "
          >
            {{ "room.hotel-required" | translate }}
          </div>
        </div>
      </div>
      <div class="input-container">
        <label for="location"> {{ "room.location" | translate }}:</label>
        <div class="input-error">
          <div class="input-group" [ngClass]="{ 'right-input': lang == 'ar' }">
            <div class="align-self-center">
              <span
                class="input-group-text input-group-icon align-self-center bg-white"
                ><i class="fa-solid fa-location-dot"></i>
              </span>
            </div>
            <input
              type="text"
              class="form-control"
              placeholder="Location"
              aria-label="Location"
              [placeholder]="'room.location' | translate"
              formControlName="location"
              required
            />
          </div>
          <div
            class="error"
            *ngIf="
              roomForm.get('hotel')?.invalid && roomForm.get('hotel')?.touched
            "
          >
            {{ "room.hotel-required" | translate }}
          </div>
        </div>
      </div>

      <div class="input-container">
        <label for="details"> {{ "shared.form.details" | translate }}:</label>
        <div class="input-error">
          <div class="input-group" [ngClass]="{ 'right-input': lang == 'ar' }">
            <div class="align-self-center">
              <span
                class="input-group-text input-group-icon align-self-center bg-white"
                ><i class="fa-solid fa-circle-info"></i>
              </span>
            </div>
            <input
              type="text"
              class="form-control"
              placeholder="Details"
              aria-label="Details"
              [placeholder]="'shared.form.details' | translate"
              formControlName="details"
              required
            />
          </div>
          <div
            class="error"
            *ngIf="
              roomForm.get('details')?.invalid &&
              roomForm.get('details')?.touched
            "
          >
            {{ "shared.form.details-required" | translate }}
          </div>
        </div>
      </div>

      <div class="input-container">
        <label for="price"> {{ "shared.form.price" | translate }}:</label>
        <div class="input-error">
          <div class="input-group" [ngClass]="{ 'right-input': lang == 'ar' }">
            <div class="align-self-center">
              <span
                class="input-group-text input-group-icon align-self-center bg-white"
                ><i class="fa-solid fa-dollar-sign"></i>
              </span>
            </div>
            <input
              type="number"
              class="form-control"
              placeholder="Price"
              aria-label="Price"
              [placeholder]="'shared.form.price' | translate"
              formControlName="price"
              required
            />
          </div>
          <div
            class="error"
            *ngIf="
              roomForm.get('price')?.invalid && roomForm.get('price')?.touched
            "
          >
            {{ "shared.form.price-required" | translate }}
          </div>
        </div>
      </div>

      <div class="input-container" formArrayName="imagesUrl">
        <label for="imagesUrl"> {{ "shared.form.image-url" | translate }}:</label>

        <div class="images-urls-inputs">
          @for(imageUrl of imagesUrl.controls; let i= $index; track i){
          <div class="input-group" [ngClass]="{ 'right-input': lang == 'ar' }">
            <div class="align-self-center">
              <span
                class="input-group-text input-group-icon align-self-center bg-white"
                ><i class="fa-solid fa-image"></i>
              </span>
            </div>
            <input
              type="text"
              class="form-control image-url-input"
              placeholder="Image URL"
              aria-label="Image URL"
              [placeholder]="'shared.form.image-url' | translate"
              [formControlName]="i"
              required
            />

            <div class="input-group-append align-self-center">
              <span class="input-group-action-icons align-self-center bg-white"
                ><i
                  *ngIf="$index != 0"
                  class="delete-icon fa-solid fa-trash-can fa-lg"
                  clickable
                  (click)="removeImageUrl(i)"
                  title="Remove ImageUrl"
                ></i>
                <i
                  *ngIf="$index == 0"
                  class="fa-solid fa-circle-plus align-self-center fa-lg mt-3 mb-3"
                  clickable
                  (click)="addImageUrl()"
                  title="Add ImageUrl"
                ></i>
              </span>
            </div>
          </div>
          <div
            class="error"
            *ngIf="
              roomForm.get('imagesUrl')?.invalid &&
              roomForm.get('imagesUrl')?.touched
            "
          >
            {{ "shared.form.image-url-required" | translate }}
          </div>
          }
        </div>
      </div>

      <div class="input-container">
        <label></label>
        <div class="input-error">
          <button class="mt-4 btn-submit" [title]="'shared.submit' | translate">
            {{ "room.submit" | translate }}
          </button>
        </div>
      </div>
    </form>
  </div>

  <button
    class="mt-4 ms-4 btn-outline-primary rounded-2"
    (click)="goBack()"
    [title]="'shared.action.go-back' | translate"
  >
    @if(lang == 'ar') {
    <i class="fa-solid fa-arrow-right"></i>
    } @else {
    <i class="fa-solid fa-arrow-left"></i>
    }
    {{ "shared.action.go-back" | translate }}
  </button>
</div>

<p-toast></p-toast>
