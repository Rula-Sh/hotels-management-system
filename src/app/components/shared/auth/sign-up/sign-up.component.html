<ngb-toast
  *ngIf="showToast"
  [class]="toastClass + ' position-fixed top-0 end-0 m-3'"
  header="Info"
  [autohide]="true"
  [delay]="3000"
  (hidden)="showToast = false"
>
  {{ toastMessage }}
</ngb-toast>

<form [formGroup]="signUpForm" (ngSubmit)="onSubmit()">
  <h2>Sign Up</h2>
  <div>
    <label>{{ "profile.name" | translate }}:</label>
    <input formControlName="name" type="text" />
    <div *ngIf="f['name'].invalid && f['name'].touched">
      <small *ngIf="f['name'].errors?.['required']">{{
        "shared.form.name-required" | translate
      }}</small>
      <small *ngIf="f['name'].errors?.['minlength']">{{
        "shared.form.name-too-long" | translate
      }}</small>
    </div>
  </div>

  <div>
    <label> {{ "profile.email" | translate }} :</label>
    <input formControlName="email" type="email" />
    <div *ngIf="f['email'].invalid && f['email'].touched">
      <small *ngIf="f['email'].errors?.['required']">
        {{ "profile.email-required" | translate }}
      </small>
      <small *ngIf="f['email'].errors?.['pattern']">
        {{ "profile.email-invalid-pattern" | translate }}
      </small>
    </div>
  </div>

  <div>
    <label>{{ "profile.new-password" | translate }}:</label>
    <input formControlName="password" type="password" />
    <div *ngIf="f['password'].invalid && f['password'].touched">
      <small *ngIf="f['password'].errors?.['required']">
        {{ "profile.password-required" | translate }}
      </small>
      <small *ngIf="f['password'].errors?.['pattern']">
        {{ "profile.password-pattern" | translate }}
      </small>
    </div>
  </div>

  <div>
    <label>{{ "profile.confirm-password" | translate }}:</label>
    <input formControlName="confirmPassword" type="password" />
    <div
      *ngIf="(f['confirmPassword'].touched || submitted) &&
         (f['confirmPassword'].errors || signUpForm.errors?.['mismatch'])"
    >
      <small *ngIf="f['confirmPassword'].errors?.['required']">
        {{ "profile.confirmation-required" | translate }}.
      </small>
      <small
        *ngIf="!f['confirmPassword'].errors && signUpForm.errors?.['mismatch']"
      >
        {{ "profile.password-match" | translate }}
      </small>
    </div>
  </div>

  <div class="d-flex justify-content-center">
    <button class="btn-primary" type="submit">
      {{ "header.auth.signup" | translate }}
    </button>
  </div>
  <p style="text-align: center; margin-top: 1rem">
    {{ "already-have-an-account" | translate }}
    <a routerLink="/login" style="font-weight: bold; display: inline-block"
      >{{ "header.auth.login" | translate }}!</a
    >
  </p>
</form>
